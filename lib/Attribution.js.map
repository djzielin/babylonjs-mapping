{"version":3,"file":"Attribution.js","sourceRoot":"","sources":["../src/Attribution.ts"],"names":[],"mappings":"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","sourcesContent":["import { Scene } from \"@babylonjs/core/scene\";\r\nimport { AdvancedDynamicTexture } from \"@babylonjs/gui/2D/\";\r\nimport { Button } from \"@babylonjs/gui/2D/controls\";\r\nimport { Control } from \"@babylonjs/gui/2D/controls\"; \r\nimport { StackPanel, Rectangle, TextBlock } from \"@babylonjs/gui/2D/controls\"; \r\n\r\nexport default class Attribution {\r\n     public advancedTexture: AdvancedDynamicTexture;\r\n\r\n    private buttonOSM: Button;\r\n    private buttonMB: Button;\r\n    private buttonMBLogo: Button;\r\n    private buttonImprov: Button;\r\n    private buttonOSMBuildings: Button;\r\n\r\n    private attributionList: string[]=[];\r\n    private ourRightPanel: StackPanel;\r\n    private ourLeftPanel: StackPanel;\r\n    \r\n    constructor(private scene: Scene) {\r\n        this.advancedTexture = AdvancedDynamicTexture.CreateFullscreenUI(\"UI\");\r\n\r\n        this.ourRightPanel = new StackPanel(\"attribution right panel\");\r\n        this.ourRightPanel.height = \"25px\";\r\n        this.ourRightPanel.isVertical = false;\r\n        this.ourRightPanel.paddingTopInPixels=3;\r\n        this.ourRightPanel.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_RIGHT;\r\n        this.ourRightPanel.verticalAlignment = Control.VERTICAL_ALIGNMENT_BOTTOM;\r\n        this.advancedTexture.addControl(this.ourRightPanel);\r\n\r\n        this.ourLeftPanel = new StackPanel(\"attribution left panel\");\r\n        this.ourLeftPanel.height = \"25px\";\r\n        this.ourLeftPanel.isVertical = false;\r\n        this.ourLeftPanel.paddingTopInPixels=3;\r\n        this.ourLeftPanel.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        this.ourLeftPanel.verticalAlignment = Control.VERTICAL_ALIGNMENT_BOTTOM;\r\n        this.advancedTexture.addControl(this.ourLeftPanel);\r\n    }\r\n\r\n    public addAttribution(provider: string) {\r\n        //TODO: rewrite this as apparently includes is not in ES2015\r\n        /*if(this.attributionList.includes(provider)){\r\n            return; //we already contain this provider\r\n        }*/\r\n              \r\n        if (provider == \"MB\") {\r\n            this.addAttributionOSM();\r\n            this.attributionList.push(\"OSM\");\r\n\r\n            this.addAttributionMapbox();           \r\n        }\r\n\r\n        if (provider == \"OSM\") {\r\n            this.addAttributionOSM();\r\n        }\r\n\r\n        if (provider == \"OSMB\") {\r\n            this.addAttributionOSMBuildings();\r\n        }\r\n\r\n        this.attributionList.push(provider);\r\n    }\r\n    \r\n    private addAttributionOSM() {\r\n        this.buttonOSM = Button.CreateSimpleButton(\"button_osm\", \"© OpenStreetMap contributors\");\r\n        this.buttonOSM.width = \"175px\";\r\n        this.buttonOSM.height = \"25px\";\r\n        this.buttonOSM.color = \"blue\";\r\n        this.buttonOSM.alpha = 0.75;\r\n        this.buttonOSM.thickness = 0;\r\n        this.buttonOSM.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_RIGHT;\r\n        this.buttonOSM.verticalAlignment = Control.VERTICAL_ALIGNMENT_BOTTOM;\r\n        this.buttonOSM.fontSize = \"12px\";\r\n        this.buttonOSM.background = \"\";\r\n        this.buttonOSM.onPointerUpObservable.add(function () {\r\n            window.open(\"https://www.openstreetmap.org/copyright\");\r\n        });\r\n\r\n        this.ourRightPanel.addControl(this.buttonOSM);\r\n    }    \r\n\r\n    private addAttributionOSMBuildings() {\r\n        this.buttonOSMBuildings = Button.CreateSimpleButton(\"button_osm\", \"© OSM Buildings\");\r\n        this.buttonOSMBuildings.width = \"100px\";\r\n        this.buttonOSMBuildings.height = \"25px\";\r\n        this.buttonOSMBuildings.color = \"blue\";\r\n        this.buttonOSMBuildings.alpha = 0.75;\r\n        this.buttonOSMBuildings.thickness = 0;\r\n        this.buttonOSMBuildings.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_RIGHT;\r\n        this.buttonOSMBuildings.verticalAlignment = Control.VERTICAL_ALIGNMENT_BOTTOM;\r\n        this.buttonOSMBuildings.fontSize = \"12px\";\r\n        this.buttonOSMBuildings.background = \"\";\r\n        this.buttonOSMBuildings.onPointerUpObservable.add(function () {\r\n            window.open(\"https://osmbuildings.org/copyright/\");\r\n        });\r\n\r\n        this.ourRightPanel.addControl(this.buttonOSMBuildings);\r\n    }    \r\n\r\n\r\n    /* \r\n       https://docs.mapbox.com/help/getting-started/attribution/\r\n    */\r\n    private addAttributionMapbox() {\r\n        this.buttonMB = Button.CreateSimpleButton(\"button_mb\", \"© Mapbox\");\r\n        this.buttonMB.width = \"65px\";\r\n        //this.buttonMB.left = \"-200px\";\r\n        this.buttonMB.height = \"25px\";\r\n        this.buttonMB.color = \"blue\";\r\n        this.buttonMB.alpha = 0.75;\r\n        this.buttonMB.thickness = 0;\r\n        //this.buttonMB.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_RIGHT;\r\n        //this.buttonMB.verticalAlignment = Control.VERTICAL_ALIGNMENT_BOTTOM;\r\n        this.buttonMB.fontSize = \"12px\";\r\n        this.buttonMB.background = \"\";\r\n        this.buttonMB.onPointerUpObservable.add(function () {\r\n            window.open(\"https://www.mapbox.com/about/maps/\");\r\n        });       \r\n\r\n        this.buttonImprov = Button.CreateSimpleButton(\"button_improve\", \"Improve this map\");\r\n        this.buttonImprov.width = \"100px\";\r\n        this.buttonImprov.height = \"25px\";\r\n        this.buttonImprov.color = \"blue\";\r\n        this.buttonImprov.alpha = 0.75;\r\n        this.buttonImprov.thickness = 0;\r\n        //this.buttonImprov.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_RIGHT;\r\n        //this.buttonImprov.verticalAlignment = Control.VERTICAL_ALIGNMENT_BOTTOM;\r\n        this.buttonImprov.fontSize = \"12px\";\r\n        this.buttonImprov.background = \"\";\r\n        this.buttonImprov.onPointerUpObservable.add(function () {\r\n            window.open(\"https://www.mapbox.com/map-feedback/\");\r\n        });\r\n\r\n        //logo via https://commons.wikimedia.org/wiki/File:Mapbox_logo_2019.svg\r\n        this.buttonMBLogo = Button.CreateImageOnlyButton(\"button_logo\", \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/Mapbox_logo_2019.svg/320px-Mapbox_logo_2019.svg.png\");\r\n\r\n        this.buttonMBLogo.width = \"99px\";\r\n        this.buttonMBLogo.height = \"30px\";\r\n        this.buttonMBLogo.paddingBottom = \"5px\";\r\n        this.buttonMBLogo.paddingTop = \"5px\";\r\n        this.buttonMBLogo.paddingLeft = \"5px\";\r\n        this.buttonMBLogo.paddingRight = \"5px\";\r\n        this.buttonMBLogo.background = \"\";\r\n        this.buttonMBLogo.alpha = 0.75;\r\n        this.buttonMBLogo.thickness = 0;\r\n        //this.buttonMBLogo.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        //this.buttonMBLogo.verticalAlignment = Control.VERTICAL_ALIGNMENT_BOTTOM;\r\n        this.buttonMBLogo.fontSize = \"12px\";\r\n        this.buttonMBLogo.onPointerUpObservable.add(function () {\r\n            window.open(\"https://www.mapbox.com/about/maps/\");\r\n        });\r\n\r\n        this.ourRightPanel.addControl(this.buttonMB);\r\n        this.ourRightPanel.addControl(this.buttonImprov);\r\n        this.ourLeftPanel.addControl(this.buttonMBLogo);\r\n    }\r\n}"]}